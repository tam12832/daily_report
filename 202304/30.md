## 取り組んだ課題
- _progate_ Ruby on Railsコース道場編Ⅱ(続き)
- _progate_ Ruby on RailsコースⅥ～
- _progate_ Ruby on Railsコース道場編Ⅲ(途中)
## 分かったこと
### 道場編Ⅱ(理解できてなかった個所)
- updateアクションは  
1.データベースから該当のレコードを取得。  
2.入力された文章を該当のレコードに上書き。  
の２段階動作
### コースⅥ
- Userモデルの追加、usersテーブルの作成、バリデーション`uniqueness`
- データベース上のレコード全権取得は`<モデル名>.all`
- 新規登録へのルーティングは`/users/new`ではなく`/signup`
### コースⅦ
- モデルへのカラムの追加はmigrationコマンド
- 画像の表示はimgタグの中にerbで画像の保存箇所を指定
- 画像送信のform_tagには`{multipart: true}`
- ファイルを扱うにはFileクラス（作成はwriteメソッド）
- 画像を作成するにはbinwriteメソッド、readメソッドを使用
- 送信データに画像がある場合のみ保存するため、if文を使用
### コースⅧ
- パスワードカラムの設定
- form_tagではデフォルトでpostルーティングを検索
- 今まではアクションの中でユーザーをidで指定していたが、ログインフォームから送信されたメールとパスワードでユーザーを取得する。
- ログインしたユーザー情報を保持し続けるため、user_idをキーとする変数`session`を使用  
逆にログアウトアクションは変数sessionの値を削除
- sessionの値を変更する時にはpostを使用する
- application.html.erbは全てのアクションから呼び出されている、その為共通の変数がある場合、applicationコントローラ側でbefore_actionを使用して定義
- アクセス制限をかける場合、authenticate_userをapplicationコントローラー内で定義
- before_actionを特定のアクションのみで実行させたい場合、onlyを用いてアクションを限定できる
- @変数で定義した変数は __同じクラスの異なるメソッド間__ で使用できる
- ユーザー編集へのリンクはerb上でif文を使い、ログイン中のユーザーidと編集したいユーザーのidが一致する場合のみ表示
- params[:id]で取得できるのは文字列であり、数字として比較数にはto_iが必要
## 感じたこと
### 道場編Ⅱ・Ⅲ
- Railsのエラーメッセージが、該当の記述ミスの場所を示していない場合があるので、ルーティングからの動作を順に辿って問題箇所を探る能力が必要だと思った。
- 前回も書いたが、`params`の理解がまだ不完全なので、理解が必要。
### コースⅥ
- postモデルと同じ作りでuserモデルを作る回だったが、必要なコードが不足する所がありエラーが発生することが多かった。
### コースⅦ
- 新しくFileクラスやwriteメソッドが出てきたが、記述方法がまた今までとは違った形なので、他と混同しないよう気をつける。
- railsチュートリアルではユーザーアイコンをGravatarから引っ張ってきてた為、独自にアップロードする場合のコードは知らなかった。
### コースⅧ
- ログインフォームの作成だったが、エラーメッセージやログインアクション、ログイン時のルーティングを今まで使ってきたコード内容と同じもので作成できたのと同時に、共通のメソッドで各コントローラに適用するアクションの考え方の視点も持たないといけないと思った。
## 次やる課題
- _progate_ Ruby on Railsコース道場編Ⅲ
## 学習時間
- 7.75H（合計45H）